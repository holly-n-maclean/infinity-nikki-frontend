{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marie\\\\Nikki-Project\\\\infinity-nikki-blog\\\\blog-frontend\\\\src\\\\pages\\\\TagPage.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Axios from 'axios';\nimport TagList from '../components/TagList';\nimport { Link } from 'react-router-dom';\nimport Pagination from '../components/Pagination'; // Import the Pagination component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TagPage() {\n  _s();\n  const {\n    tag\n  } = useParams(); // Get the tag from the URL\n  const [posts, setPosts] = useState([]); // State to hold posts with the specified tag\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  useEffect(() => {\n    Axios.get(`http://localhost:5000/api/posts/tag/${tag}?page=${currentPage}&limit=5`).then(res => {\n      setPosts(res.data.posts);\n      setTotalPages(res.data.pages);\n    }).catch(err => {\n      console.error('Error fetching posts by tag:', err);\n      setPosts([]);\n    });\n  }, [tag, currentPage]);\n  const getThumbnailFromContent = markdown => {\n    const match = markdown.match(/!\\[.*?\\]\\((.*?)\\)/);\n    return match ? match[1] : 'https://via.placeholder.com/300x200?text=No+Image';\n  };\n  const stripImagesAndMarkdown = markdown => {\n    const noImages = markdown.replace(/!\\[.*?\\]\\(.*?\\)/g, '');\n    return noImages.replace(/[#_*`>]/g, '').substring(0, 160);\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '900px',\n      margin: '2rem auto',\n      padding: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2rem'\n      },\n      children: [\"Posts tagged with \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#ec4899'\n        },\n        children: [\"#\", tag]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        color: '#999'\n      },\n      children: \"No posts found for this tag.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : posts.map(post => {\n      const thumbnail = getThumbnailFromContent(post.content);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          border: '1px solid #ddd',\n          borderRadius: '10px',\n          marginBottom: '1.5rem',\n          overflow: 'hidden',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\n          background: '#fff',\n          flexDirection: 'row'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: thumbnail,\n          alt: \"Post thumbnail\",\n          style: {\n            width: '200px',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/posts/${post._id}`,\n            style: {\n              textDecoration: 'none',\n              color: '#222'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: '0 0 0.5rem 0'\n              },\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#888',\n              fontSize: '0.8rem',\n              marginTop: '-0.5rem',\n              marginBottom: '0.75rem'\n            },\n            children: formatDate(post.createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#555',\n              marginBottom: '1rem'\n            },\n            children: [stripImagesAndMarkdown(post.content), \"...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TagList, {\n            tags: post.tags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/posts/${post._id}`,\n            style: {\n              display: 'inline-block',\n              marginTop: '0.75rem',\n              padding: '0.5rem 1rem',\n              background: '#007bff',\n              color: 'white',\n              textDecoration: 'none',\n              borderRadius: '5px',\n              fontSize: '0.9rem'\n            },\n            children: \"Read More \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this);\n    }, /*#__PURE__*/_jsxDEV(Pagination, {\n      currentPage: currentPage,\n      totalPages: totalPages,\n      onPageChange: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(TagPage, \"O2ChoDohDR4ZoQAvbSiofbXUQJc=\", false, function () {\n  return [useParams];\n});\n_c = TagPage;\nexport default TagPage;\nvar _c;\n$RefreshReg$(_c, \"TagPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Axios","TagList","Link","Pagination","jsxDEV","_jsxDEV","TagPage","_s","tag","posts","setPosts","currentPage","setCurrentPage","totalPages","setTotalPages","get","then","res","data","pages","catch","err","console","error","getThumbnailFromContent","markdown","match","stripImagesAndMarkdown","noImages","replace","substring","formatDate","dateString","Date","toLocaleDateString","year","month","day","style","maxWidth","margin","padding","children","textAlign","marginBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","length","map","post","thumbnail","content","display","border","borderRadius","overflow","boxShadow","background","flexDirection","src","alt","width","objectFit","flex","to","_id","textDecoration","title","fontSize","marginTop","createdAt","tags","onPageChange","_c","$RefreshReg$"],"sources":["C:/Users/marie/Nikki-Project/infinity-nikki-blog/blog-frontend/src/pages/TagPage.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom'; \r\nimport Axios from 'axios'; \r\nimport TagList from '../components/TagList';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from '../components/Pagination'; // Import the Pagination component\r\n\r\n\r\nfunction TagPage() {\r\n    const { tag } = useParams(); // Get the tag from the URL\r\n    const [posts, setPosts] = useState([]); // State to hold posts with the specified tag\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n\r\n    useEffect(() => {\r\n        Axios.get(`http://localhost:5000/api/posts/tag/${tag}?page=${currentPage}&limit=5`)\r\n          .then(res => {\r\n            setPosts(res.data.posts);\r\n            setTotalPages(res.data.pages);\r\n          })\r\n          .catch(err => {\r\n            console.error('Error fetching posts by tag:', err);\r\n            setPosts([]);\r\n          });\r\n      }, [tag, currentPage]); \r\n\r\n    const getThumbnailFromContent = (markdown) => {\r\n        const match = markdown.match(/!\\[.*?\\]\\((.*?)\\)/);\r\n        return match ? match[1] : 'https://via.placeholder.com/300x200?text=No+Image';\r\n      };\r\n    \r\n      const stripImagesAndMarkdown = (markdown) => {\r\n        const noImages = markdown.replace(/!\\[.*?\\]\\(.*?\\)/g, '');\r\n        return noImages.replace(/[#_*`>]/g, '').substring(0, 160);\r\n      };\r\n    \r\n      const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleDateString('en-US', {\r\n          year: 'numeric',\r\n          month: 'short',\r\n          day: 'numeric',\r\n        });\r\n      };\r\n\r\n    return (\r\n        <div style={{ maxWidth: '900px', margin: '2rem auto', padding: '1rem' }}>\r\n      <h1 style={{ textAlign: 'center', marginBottom: '2rem' }}>\r\n        Posts tagged with <span style={{ color: '#ec4899' }}>#{tag}</span>\r\n      </h1>\r\n\r\n      {posts.length === 0 ? (\r\n        <p style={{ textAlign: 'center', color: '#999' }}>No posts found for this tag.</p>\r\n      ) : (\r\n        posts.map(post => {\r\n          const thumbnail = getThumbnailFromContent(post.content);\r\n\r\n          return (\r\n            <div key={post._id} style={{\r\n              display: 'flex',\r\n              border: '1px solid #ddd',\r\n              borderRadius: '10px',\r\n              marginBottom: '1.5rem',\r\n              overflow: 'hidden',\r\n              boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n              background: '#fff',\r\n              flexDirection: 'row',\r\n            }}>\r\n              <img\r\n                src={thumbnail}\r\n                alt=\"Post thumbnail\"\r\n                style={{ width: '200px', objectFit: 'cover' }}\r\n              />\r\n\r\n              <div style={{ padding: '1rem', flex: 1 }}>\r\n                <Link to={`/posts/${post._id}`} style={{ textDecoration: 'none', color: '#222' }}>\r\n                  <h2 style={{ margin: '0 0 0.5rem 0' }}>{post.title}</h2>\r\n                </Link>\r\n\r\n                <p style={{ color: '#888', fontSize: '0.8rem', marginTop: '-0.5rem', marginBottom: '0.75rem' }}>\r\n                  {formatDate(post.createdAt)}\r\n                </p>\r\n\r\n                <p style={{ color: '#555', marginBottom: '1rem' }}>\r\n                  {stripImagesAndMarkdown(post.content)}...\r\n                </p>\r\n\r\n                <TagList tags={post.tags} />\r\n\r\n                <Link\r\n                  to={`/posts/${post._id}`}\r\n                  style={{\r\n                    display: 'inline-block',\r\n                    marginTop: '0.75rem',\r\n                    padding: '0.5rem 1rem',\r\n                    background: '#007bff',\r\n                    color: 'white',\r\n                    textDecoration: 'none',\r\n                    borderRadius: '5px',\r\n                    fontSize: '0.9rem',\r\n                  }}\r\n                >\r\n                  Read More →\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            \r\n          );\r\n        },\r\n        <Pagination\r\n            currentPage={currentPage}\r\n            totalPages={totalPages}\r\n            onPageChange={setCurrentPage}\r\n            />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TagPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}